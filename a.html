<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>订单中心 - 二手电子产品交易平台</title>
    <script src="https://res.gemcoder.com/js/reload.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#165DFF',
              success: '#00B42A',
              warning: '#FF7D00',
              danger: '#F53F3F',
              info: '#86909C',
              'neutral-100': '#F2F3F5',
              'neutral-200': '#E5E6EB',
              'neutral-300': '#C9CDD4',
              'neutral-400': '#86909C',
              'neutral-500': '#4E5969',
              'neutral-600': '#272E3B',
              'neutral-700': '#1D2129'
            },
            fontFamily: {
              inter: ['Inter', 'system-ui', 'sans-serif']
            },
            spacing: {
              '5.5': '1.375rem'
            }
          }
        }
      };
    </script>
    <style type="text/tailwindcss">
      @layer utilities {
          .content-auto {
              content-visibility: auto;
          }
          .badge-pill {
              @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
          }
          .btn {
              @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
          }
          .btn-primary {
              @apply bg-primary text-white hover:bg-primary/90 focus:ring-primary/50;
          }
          .btn-secondary {
              @apply bg-white text-neutral-700 border border-neutral-200 hover:bg-neutral-100 focus:ring-primary/50;
          }
          .btn-danger {
              @apply bg-danger text-white hover:bg-danger/90 focus:ring-danger/50;
          }
          .btn-text {
              @apply bg-transparent text-neutral-500 hover:bg-neutral-100 focus:ring-neutral-200;
          }
          .tab-active {
              @apply text-primary border-primary font-medium;
          }
          .order-card {
              @apply bg-white rounded-xl shadow-sm border border-neutral-200 overflow-hidden transition-all duration-200 hover:shadow-md;
          }
          .modal-backdrop {
              @apply fixed inset-0 bg-black/50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300;
          }
          .modal-backdrop.show {
              @apply opacity-100 pointer-events-auto;
          }
          .modal-content {
              @apply bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-auto transform translate-y-8 transition-transform duration-300;
          }
          .modal-backdrop.show .modal-content {
              @apply translate-y-0;
          }
          .pagination-item {
              @apply w-9 h-9 flex items-center justify-center rounded-md transition-colors duration-200;
          }
          .pagination-item.active {
              @apply bg-primary text-white;
          }
          .pagination-item:not(.disabled):hover:not(.active) {
              @apply bg-neutral-100;
          }
          .pagination-item.disabled {
              @apply text-neutral-300 cursor-not-allowed;
          }
      }
    </style>
  </head>
  <body
    class="bg-neutral-100 font-inter text-neutral-700 min-h-screen flex flex-col"
  >
    <!-- [MODULE] a1b_主内容区域 -->
    <main class="flex-grow container mx-auto px-4 py-8">
      <!-- [MODULE] c2d_订单中心页面 -->
      <div id="order-center-page" class="space-y-6">
        <!-- [MODULE] d3e_订单中心页面:页面标题 -->
        <div
          class="flex flex-col md:flex-row md:items-center md:justify-between gap-4"
        >
          <div>
            <h1
              class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-neutral-700"
            >
              订单中心
            </h1>
            <p class="text-neutral-400 mt-1">管理您的所有交易订单</p>
          </div>
        </div>
        <!-- [/MODULE] d3e_订单中心页面:页面标题 -- 包含页面标题和描述文字 -->
        <!-- [MODULE] e4f_订单中心页面:标签页 -->
        <div class="bg-white rounded-xl shadow-sm border border-neutral-200">
          <div class="flex border-b border-neutral-200">
            <button
              id="bought-tab"
              class="tab-active py-4 px-6 border-b-2 text-lg transition-all duration-200"
              data-tab="bought"
            >
              我买到的
            </button>
            <button
              id="sold-tab"
              class="py-4 px-6 border-b-2 border-transparent text-lg text-neutral-500 transition-all duration-200"
              data-tab="sold"
            >
              我卖出的
            </button>
          </div>
        </div>
        <!-- [/MODULE] e4f_订单中心页面:标签页 -- 包含"我买到的"和"我卖出的"两个标签，用于切换不同类型的订单列表 -->
        <!-- [MODULE] f5g_订单中心页面:订单列表 -->
        <div
          id="order-list-container"
          class="bg-white rounded-xl shadow-sm border border-neutral-200 overflow-hidden"
        >
          <!-- 订单列表头部 -->
          <div
            class="hidden md:grid md:grid-cols-12 px-6 py-4 bg-neutral-50 border-b border-neutral-200 text-neutral-500 font-medium"
          >
            <div class="col-span-4">商品信息</div>
            <div class="col-span-2">成交时间</div>
            <div class="col-span-2">成交价格</div>
            <div class="col-span-2">订单状态</div>
            <div class="col-span-2 text-right">操作</div>
          </div>
          <!-- 订单列表内容 -->
          <div id="order-list" class="divide-y divide-neutral-200">
            <!-- 订单项将通过JS动态生成 -->
          </div>
          <!-- 空状态 -->
          <div
            id="empty-state"
            class="hidden flex flex-col items-center justify-center py-16 px-4 text-center"
          >
            <img
              src="https://design.gemcoder.com/staticResource/echoAiSystemImages/ef6eb36f01bd83829fc73d3e5137a13a.png"
              alt="空订单"
              class="w-32 h-32 mb-4 opacity-60"
            />
            <h3 class="text-lg font-medium text-neutral-700 mb-2">
              暂无订单记录
            </h3>
            <p class="text-neutral-400 max-w-md mb-6">
              您还没有相关的订单记录，快去市场大厅看看吧
            </p>
            <a href="javascript:void(0);" class="btn btn-primary">
              <i class="fas fa-shopping-bag mr-2"> </i>
              去逛市场大厅
            </a>
          </div>
          <!-- 加载中状态 -->
          <div
            id="loading-state"
            class="flex items-center justify-center py-16"
          >
            <div class="flex flex-col items-center">
              <div
                class="w-12 h-12 border-4 border-neutral-200 border-t-primary rounded-full animate-spin"
              ></div>
              <p class="mt-4 text-neutral-500">加载中...</p>
            </div>
          </div>
          <!-- [MODULE] g6h_订单中心页面:分页组件 -->
          <div
            id="pagination-container"
            class="py-4 px-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4"
          >
            <div class="text-neutral-500 text-sm">
              共
              <span id="total-orders"> 0 </span>
              条，当前显示
              <span id="current-range"> 0-0 </span>
            </div>
            <div class="flex items-center gap-1">
              <button
                id="prev-page"
                class="pagination-item disabled"
                aria-label="上一页"
              >
                <i class="fas fa-chevron-left text-sm"> </i>
              </button>
              <div id="pagination-numbers" class="flex items-center gap-1">
                <!-- 页码将通过JS动态生成 -->
              </div>
              <button
                id="next-page"
                class="pagination-item disabled"
                aria-label="下一页"
              >
                <i class="fas fa-chevron-right text-sm"> </i>
              </button>
            </div>
          </div>
          <!-- [/MODULE] g6h_订单中心页面:分页组件 -- 包含总条数显示、上一页按钮、页码按钮和下一页按钮，用于订单列表分页 -->
        </div>
        <!-- [/MODULE] f5g_订单中心页面:订单列表 -- 包含订单列表头部、订单列表内容、空状态、加载状态和分页组件 -->
      </div>
      <!-- [/MODULE] c2d_订单中心页面 -- 订单中心页面，包含标题、标签页和订单列表 -->
    </main>
    <!-- [/MODULE] a1b_主内容区域 -- 订单中心页面的主内容区域 -->
    <!-- [MODULE] h7i_订单详情弹窗 -->
    <div id="order-detail-modal" class="modal-backdrop">
      <div class="modal-content mx-4">
        <div class="p-6">
          <div class="flex justify-between items-start mb-6">
            <h2 id="modal-title" class="text-xl font-bold text-neutral-700">
              订单详情
            </h2>
            <button
              id="close-modal"
              class="text-neutral-400 hover:text-neutral-700 transition-colors"
            >
              <i class="fas fa-times text-xl"> </i>
            </button>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- 商品图片预览 -->
            <div id="modal-product-images" class="grid grid-cols-2 gap-3">
              <!-- 图片将通过JS动态生成 -->
            </div>
            <!-- 商品信息与订单信息 -->
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-semibold text-neutral-700 mb-2">
                  商品信息
                </h3>
                <div class="space-y-3">
                  <div>
                    <h4
                      id="modal-product-title"
                      class="text-lg font-medium text-neutral-700"
                    ></h4>
                    <p
                      id="modal-product-specs"
                      class="text-neutral-400 mt-1"
                    ></p>
                  </div>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-neutral-700 mb-2">
                  订单信息
                </h3>
                <div class="grid grid-cols-2 gap-y-3 gap-x-4 text-sm">
                  <div>
                    <p class="text-neutral-400">订单编号</p>
                    <p
                      id="modal-order-number"
                      class="font-medium text-neutral-700"
                    ></p>
                  </div>
                  <div>
                    <p class="text-neutral-400">买家</p>
                    <p
                      id="modal-buyer"
                      class="font-medium text-neutral-700"
                    ></p>
                  </div>
                  <div>
                    <p class="text-neutral-400">卖家</p>
                    <p
                      id="modal-seller"
                      class="font-medium text-neutral-700"
                    ></p>
                  </div>
                  <div>
                    <p class="text-neutral-400">订单状态</p>
                    <p id="modal-order-status" class="font-medium"></p>
                  </div>
                  <div>
                    <p class="text-neutral-400">成交金额</p>
                    <p
                      id="modal-order-amount"
                      class="font-medium text-danger"
                    ></p>
                  </div>
                  <div>
                    <p class="text-neutral-400">物流单号</p>
                    <p
                      id="modal-logistics-number"
                      class="font-medium text-neutral-700"
                    ></p>
                  </div>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-neutral-700 mb-2">
                  时间信息
                </h3>
                <div class="space-y-2 text-sm">
                  <div class="flex justify-between">
                    <span class="text-neutral-400"> 创建时间 </span>
                    <span id="modal-create-time" class="text-neutral-700">
                    </span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-neutral-400"> 付款时间 </span>
                    <span id="modal-payment-time" class="text-neutral-700">
                    </span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-neutral-400"> 完成时间 </span>
                    <span id="modal-completion-time" class="text-neutral-700">
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="border-t border-neutral-200 p-6 flex justify-end gap-3">
          <button id="modal-close-btn" class="btn btn-secondary">关闭</button>
          <div id="modal-actions" class="flex gap-3">
            <!-- 操作按钮将通过JS动态生成 -->
          </div>
        </div>
      </div>
    </div>
    <!-- [/MODULE] h7i_订单详情弹窗 -- 订单详情弹窗，包含商品图片预览、商品信息、订单信息、时间信息和操作按钮 -->
  </body>
  <!-- [JSMOD] i8j_订单数据模拟 -->
  <script id="order-data">
    // 模拟订单数据
    var mockOrders = {
      bought: [{
        id: 'ORD20250115001',
        product: {
          id: 'PROD1001',
          title: 'Apple iPhone 14 Pro 256GB 星光色',
          specs: '品牌：Apple | 型号：iPhone 14 Pro | 容量：256GB | 颜色：星光色 | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/98628ca8f8f03decbb85fc075735f4a7.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/35bed43088426e24ed2e0c8460b97a84.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/272058d13a3dda6c167ff9dcbaf2fa20.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/b2291d128062d132c0c1c60f5662571a.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/28ba681c048e09cf3bd9059065e07f5a.png'
        },
        time: '2025-01-15 14:20',
        price: 7999,
        status: 'paid',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '科技数码专营店',
        logisticsNumber: 'SF1234567890123',
        createTime: '2025-01-15 14:15',
        paymentTime: '2025年01月15日 14:20',
        completionTime: ''
      }, {
        id: 'ORD20250110002',
        product: {
          id: 'PROD1002',
          title: 'Sony WH-1000XM5 无线降噪耳机',
          specs: '品牌：Sony | 型号：WH-1000XM5 | 颜色：曜石黑 | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/07de85dbf5ecdfe7e226b47ed7e64942.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/eef9d39731ed5325b0894e2afea4c356.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/f979449c13670a3eb655b222983b80c3.png'
        },
        time: '2025-01-10 09:45',
        price: 2499,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '音频设备专卖',
        logisticsNumber: 'JD7654321098765',
        createTime: '2025-01-10 09:30',
        paymentTime: '2025年01月10日 09:45',
        completionTime: '2025年01月12日 15:30'
      }, {
        id: 'ORD20250105003',
        product: {
          id: 'PROD1003',
          title: '任天堂 Switch OLED 游戏机 日版',
          specs: '品牌：任天堂 | 型号：Switch OLED | 版本：日版 | 成色：98新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/87d95e59edb5632ac38956599d312238.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/1e2b5403ead98fa96ca14890dde73ac0.png'
        },
        time: '2025-01-05 16:30',
        price: 1999,
        status: 'pending',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '游戏玩家天堂',
        logisticsNumber: '',
        createTime: '2025-01-05 16:25',
        paymentTime: '',
        completionTime: ''
      }, {
        id: 'ORD20241228004',
        product: {
          id: 'PROD1004',
          title: 'MacBook Pro 16英寸 M1 Pro芯片 16GB内存',
          specs: '品牌：Apple | 型号：MacBook Pro 16 | 配置：M1 Pro/16GB/512GB | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/a230ff3019799eca9880cae7bfd4f089.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/947976f68eedb3f0fa8df186e4cf2478.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/2a3999d82e9f3628f4d690ec0183d096.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/22539469b8fc76dbf2a68ddb66d51b42.png'
        },
        time: '2024-12-28 11:20',
        price: 12999,
        status: 'canceled',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '苹果产品专营店',
        logisticsNumber: '',
        createTime: '2024-12-28 11:15',
        paymentTime: '',
        completionTime: ''
      }, {
        id: 'ORD20241220005',
        product: {
          id: 'PROD1005',
          title: 'DJI Mini 3 Pro 无人机 畅飞套装',
          specs: '品牌：DJI | 型号：Mini 3 Pro | 套装：畅飞套装 | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/b5dac3edf49a48182b447f0057549811.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/62c6adc2f82b94c29ce6a608797a7963.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/968f9c0c17c561aaf27f558230bffe91.png'
        },
        time: '2024-12-20 15:40',
        price: 4299,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '航拍器材专卖',
        logisticsNumber: 'YT9876543210123',
        createTime: '2024-12-20 15:30',
        paymentTime: '2024年12月20日 15:40',
        completionTime: '2024年12月23日 10:15'
      }, {
        id: 'ORD20241215006',
        product: {
          id: 'PROD1006',
          title: '三星 Galaxy S23 Ultra 12GB+256GB 幻影黑',
          specs: '品牌：三星 | 型号：Galaxy S23 Ultra | 配置：12GB+256GB | 颜色：幻影黑 | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/167a1951db52fff87e3833c0d9b4fa0c.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/9a3a87855adc5171bd7e0a7aac7f7fe9.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/8a1615e549e68b16898f6fc079897cb4.png'
        },
        time: '2024-12-15 09:30',
        price: 6999,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '三星官方授权店',
        logisticsNumber: 'EMS1234567890123',
        createTime: '2024-12-15 09:25',
        paymentTime: '2024年12月15日 09:30',
        completionTime: '2024年12月17日 14:25'
      }, {
        id: 'ORD20241210007',
        product: {
          id: 'PROD1007',
          title: '小米手环8 标准版 黑色',
          specs: '品牌：小米 | 型号：手环8 | 版本：标准版 | 颜色：黑色 | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/348baffd0a04298e8e6e098421d23539.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/b847d3c632ded653aecd8b026466b183.png'
        },
        time: '2024-12-10 16:10',
        price: 189,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '小米生态链店',
        logisticsNumber: 'ZT5678901234567',
        createTime: '2024-12-10 16:05',
        paymentTime: '2024年12月10日 16:10',
        completionTime: '2024年12月12日 09:40'
      }, {
        id: 'ORD20241205008',
        product: {
          id: 'PROD1008',
          title: 'Bose QuietComfort Earbuds II 真无线降噪耳机',
          specs: '品牌：Bose | 型号：QuietComfort Earbuds II | 颜色：石墨黑 | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/edc0d2ad526a47280590ddb4ee07bf03.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/02302bd8a823a3562110eedee263c59f.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/090e46a679e952b41d54834c4bb95fbb.png'
        },
        time: '2024-12-05 14:25',
        price: 1599,
        status: 'paid',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '音频设备专卖',
        logisticsNumber: 'SF7654321098765',
        createTime: '2024-12-05 14:20',
        paymentTime: '2024年12月05日 14:25',
        completionTime: ''
      }, {
        id: 'ORD20241130009',
        product: {
          id: 'PROD1009',
          title: 'iPad Pro 11英寸 2022款 M2芯片 256GB',
          specs: '品牌：Apple | 型号：iPad Pro 11 | 年份：2022款 | 配置：M2/256GB | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/4224133242997347a0405799dbbc3172.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/5b08527b6918e7b1e12647a4561ff2ba.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/4c6c0b46b6d6afab00c05d9624231eec.png'
        },
        time: '2024-11-30 10:15',
        price: 6799,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '苹果产品专营店',
        logisticsNumber: 'JD1234567890123',
        createTime: '2024-11-30 10:10',
        paymentTime: '2024年11月30日 10:15',
        completionTime: '2024年12月02日 11:30'
      }, {
        id: 'ORD20241125010',
        product: {
          id: 'PROD1010',
          title: '华为 MateBook X Pro 2023 i7 16GB+1TB',
          specs: '品牌：华为 | 型号：MateBook X Pro 2023 | 配置：i7/16GB/1TB | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/6301f90734cd597dbbfd769ca22d3d50.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/5addc70ace7e948a63948b9f48298f96.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/af44e6f373bb4bac2041a196b3d73797.png'
        },
        time: '2024-11-25 16:40',
        price: 10999,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '张小明',
        seller: '华为官方授权店',
        logisticsNumber: 'YD9876543210123',
        createTime: '2024-11-25 16:30',
        paymentTime: '2024年11月25日 16:40',
        completionTime: '2024年11月28日 09:20'
      }],
      sold: [{
        id: 'ORD20250114001',
        product: {
          id: 'PROD2001',
          title: '微软 Surface Pro 9 i5 8GB+256GB',
          specs: '品牌：微软 | 型号：Surface Pro 9 | 配置：i5/8GB/256GB | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/32c66da6e722d6140d060f052e8b3caa.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/8421fc4ede212c013d2b8eda2ee2e259.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/efeef04452439f8cabd68a0872c3a32d.png'
        },
        time: '2025-01-14 10:30',
        price: 5999,
        status: 'paid',
        // canceled, pending, paid, completed
        buyer: '李华',
        seller: '张小明',
        logisticsNumber: 'SF1234567890456',
        createTime: '2025-01-14 10:20',
        paymentTime: '2025年01月14日 10:30',
        completionTime: ''
      }, {
        id: 'ORD20250108002',
        product: {
          id: 'PROD2002',
          title: 'AirPods Pro 2 无线降噪耳机',
          specs: '品牌：Apple | 型号：AirPods Pro 2 | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/88da5f2d3cd5ee3d33f1d012a62b16f2.png', 'https://design.gemcoder.com/staticResource/echoAiSystemImages/c7b2a3a871bffca87dfa0d0639821585.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/058616502fb768d7299cc5318ab53e42.png'
        },
        time: '2025-01-08 15:15',
        price: 1499,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '王芳',
        seller: '张小明',
        logisticsNumber: 'JD7654321098712',
        createTime: '2025-01-08 15:10',
        paymentTime: '2025年01月08日 15:15',
        completionTime: '2025年01月10日 11:20'
      }, {
        id: 'ORD20250103003',
        product: {
          id: 'PROD2003',
          title: '华硕 ROG Ally X 掌机 1TB',
          specs: '品牌：华硕 | 型号：ROG Ally X | 容量：1TB | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/1bc42cd3a2b6b91fb8853457461b015d.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/135f06b15d2b9d90b79a8bdb249a1c90.png'
        },
        time: '2025-01-03 11:40',
        price: 4299,
        status: 'pending',
        // canceled, pending, paid, completed
        buyer: '张伟',
        seller: '张小明',
        logisticsNumber: '',
        createTime: '2025-01-03 11:35',
        paymentTime: '',
        completionTime: ''
      }, {
        id: 'ORD20241227004',
        product: {
          id: 'PROD2004',
          title: 'Kindle Paperwhite 5 8GB 水墨黑',
          specs: '品牌：Amazon | 型号：Paperwhite 5 | 容量：8GB | 颜色：水墨黑 | 成色：99新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/077a0c69af0d5658bf6c0fd9b30d7cba.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/0795d11d9853bbdb810d3e5baa2fe29a.png'
        },
        time: '2024-12-27 16:25',
        price: 899,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '赵丽',
        seller: '张小明',
        logisticsNumber: 'YT1234567890456',
        createTime: '2024-12-27 16:20',
        paymentTime: '2024年12月27日 16:25',
        completionTime: '2024年12月29日 14:30'
      }, {
        id: 'ORD20241220005',
        product: {
          id: 'PROD2005',
          title: '雷蛇 Basilisk V3 游戏鼠标',
          specs: '品牌：雷蛇 | 型号：Basilisk V3 | 成色：95新',
          images: ['https://design.gemcoder.com/staticResource/echoAiSystemImages/9b9c82ecd3b80186d2391aab44bed429.png'],
          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/04d7f1629185bcd85d12e037f06b6d08.png'
        },
        time: '2024-12-20 09:15',
        price: 399,
        status: 'completed',
        // canceled, pending, paid, completed
        buyer: '刘强',
        seller: '张小明',
        logisticsNumber: 'ZT5678901234567',
        createTime: '2024-12-20 09:10',
        paymentTime: '2024年12月20日 09:15',
        completionTime: '2024年12月22日 10:45'
      }]
    };
  </script>
  <!-- [/JSMOD] i8j_订单数据模拟 -- 模拟"我买到的"和"我卖出的"订单数据，包含订单基本信息、商品信息、价格、状态等 -->
  <!-- [JSMOD] j9k_订单状态工具函数 -->
  <script id="status-utils">
    // 获取订单状态的样式类
    function getStatusClass(status) {
      switch (status) {
        case 'pending':
          return 'bg-warning/10 text-warning';
        case 'paid':
          return 'bg-primary/10 text-primary';
        case 'completed':
          return 'bg-success/10 text-success';
        case 'canceled':
          return 'bg-danger/10 text-danger';
        default:
          return 'bg-neutral-100 text-neutral-500';
      }
    }
    // 获取订单状态的显示文本
    function getStatusText(status) {
      switch (status) {
        case 'pending':
          return '待付款';
        case 'paid':
          return '已付款';
        case 'completed':
          return '已完成';
        case 'canceled':
          return '已取消';
        default:
          return '未知状态';
      }
    }
    // 根据订单状态获取操作按钮
    function getActionButtons(status) {
      var isDetail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var buttons = [];
      switch (status) {
        case 'pending':
          buttons.push({
            text: '去支付',
            className: 'btn-primary',
            action: 'pay'
          });
          buttons.push({
            text: '取消订单',
            className: 'btn-danger',
            action: 'cancel'
          });
          break;
        case 'paid':
          buttons.push({
            text: '确认收货',
            className: 'btn-primary',
            action: 'confirm'
          });
          buttons.push({
            text: '申请退款',
            className: 'btn-secondary',
            action: 'refund'
          });
          break;
        case 'completed':
          buttons.push({
            text: '查看详情',
            className: 'btn-secondary',
            action: 'detail'
          });
          buttons.push({
            text: '再次购买',
            className: 'btn-primary',
            action: 'repurchase'
          });
          break;
        case 'canceled':
          buttons.push({
            text: '删除记录',
            className: 'btn-secondary',
            action: 'delete'
          });
          buttons.push({
            text: '再次购买',
            className: 'btn-primary',
            action: 'repurchase'
          });
          break;
      }
      return buttons;
    }
  </script>
  <!-- [/JSMOD] j9k_订单状态工具函数 -- 提供获取订单状态样式类、显示文本和操作按钮的工具函数 -->
  <!-- [JSMOD] k0l_订单列表渲染 -->
  <script id="order-list-renderer">
    document.addEventListener('DOMContentLoaded', function () {
      // 全局变量
      var currentTab = 'bought'; // 当前选中的标签页
      var currentPage = 1; // 当前页码
      var pageSize = 10; // 每页显示数量
      var currentOrders = []; // 当前标签页的订单数据
      var totalPages = 1; // 总页数
      // DOM 元素
      var boughtTab = document.getElementById('bought-tab');
      var soldTab = document.getElementById('sold-tab');
      var orderList = document.getElementById('order-list');
      var emptyState = document.getElementById('empty-state');
      var loadingState = document.getElementById('loading-state');
      var paginationContainer = document.getElementById('pagination-container');
      var totalOrdersEl = document.getElementById('total-orders');
      var currentRangeEl = document.getElementById('current-range');
      var prevPageBtn = document.getElementById('prev-page');
      var nextPageBtn = document.getElementById('next-page');
      var paginationNumbers = document.getElementById('pagination-numbers');
      var orderDetailModal = document.getElementById('order-detail-modal');
      var closeModalBtn = document.getElementById('close-modal');
      var modalCloseBtn = document.getElementById('modal-close-btn');
      // 初始化
      init();
      // 初始化函数
      function init() {
        // 加载订单数据
        loadOrders();

        // 绑定事件监听
        bindEvents();
      }
      // 绑定事件监听
      function bindEvents() {
        // 标签页切换
        boughtTab.addEventListener('click', function () {
          return switchTab('bought');
        });
        soldTab.addEventListener('click', function () {
          return switchTab('sold');
        });

        // 分页按钮
        prevPageBtn.addEventListener('click', function () {
          return changePage(currentPage - 1);
        });
        nextPageBtn.addEventListener('click', function () {
          return changePage(currentPage + 1);
        });

        // 关闭模态框
        closeModalBtn.addEventListener('click', closeModal);
        modalCloseBtn.addEventListener('click', closeModal);

        // 点击模态框背景关闭
        orderDetailModal.addEventListener('click', function (e) {
          if (e.target === orderDetailModal) {
            closeModal();
          }
        });
      }
      // 切换标签页
      function switchTab(tab) {
        if (currentTab === tab) return;
        currentTab = tab;
        currentPage = 1; // 切换标签页时重置为第一页

        // 更新标签页样式
        if (tab === 'bought') {
          boughtTab.classList.add('tab-active');
          soldTab.classList.remove('tab-active');
        } else {
          soldTab.classList.add('tab-active');
          boughtTab.classList.remove('tab-active');
        }

        // 加载订单数据
        loadOrders();
      }
      // 加载订单数据
      function loadOrders() {
        // 显示加载状态
        showLoading();

        // 模拟异步加载数据
        setTimeout(function () {
          // 获取当前标签页的订单数据
          currentOrders = mockOrders[currentTab] || [];
          totalPages = Math.ceil(currentOrders.length / pageSize);

          // 渲染订单列表
          renderOrderList();

          // 渲染分页
          renderPagination();

          // 更新统计信息
          updateStatistics();

          // 隐藏加载状态，显示相应内容
          if (currentOrders.length === 0) {
            showEmptyState();
          } else {
            hideEmptyState();
            hideLoading();
          }
        }, 800);
      }
      // 渲染订单列表
      function renderOrderList() {
        // 清空列表
        orderList.innerHTML = '';

        // 计算当前页显示的订单范围
        var startIndex = (currentPage - 1) * pageSize;
        var endIndex = Math.min(startIndex + pageSize, currentOrders.length);
        var paginatedOrders = currentOrders.slice(startIndex, endIndex);

        // 渲染每个订单
        paginatedOrders.forEach(function (order) {
          var orderItem = createOrderItem(order);
          orderList.appendChild(orderItem);
        });
      }
      // 创建订单项元素
      function createOrderItem(order) {
        var orderItem = document.createElement('div');
        orderItem.className = 'order-card';
        orderItem.dataset.orderId = order.id;

        // 获取订单状态样式和文本
        var statusClass = getStatusClass(order.status);
        var statusText = getStatusText(order.status);

        // 获取操作按钮
        var actions = getActionButtons(order.status);

        // 构建操作按钮HTML
        var actionButtons = actions.map(function (btn) {
          return "<button class=\"btn".concat(btn.className, "ml-2\" data-action=\"").concat(btn.action, "\">").concat(btn.text, "</button>");
        }).join('');

        // 订单项HTML结构
        orderItem.innerHTML = "<div class=\"p-4 md:p-6\">\n                    <div class=\"flex flex-col md:flex-row md:items-center gap-4\">\n                        <!-- \u5546\u54C1\u4FE1\u606F -->\n                        <div class=\"flex-1 flex items-center gap-4\">\n                            <div class=\"relative w-16 h-16 rounded-lg overflow-hidden border border-neutral-200 flex-shrink-0 cursor-pointer order-thumbnail\" data-order-id=\"".concat(order.id, "\">\n                                <img src=\"").concat(order.product.thumbnail, "\" alt=\"").concat(order.product.title, "\" class=\"w-full h-full object-cover\">\n                            </div>\n                            <div class=\"flex-1 min-w-0\">\n                                <h3 class=\"font-medium text-neutral-700 truncate\">").concat(order.product.title, "</h3>\n                                <p class=\"text-neutral-400 text-sm mt-1 line-clamp-2\">").concat(order.product.specs, "</p>\n                            </div>\n                        </div>\n                        <!-- \u79FB\u52A8\u7AEF\u4FE1\u606F -->\n                        <div class=\"md:hidden grid grid-cols-2 gap-y-2 gap-x-4 w-full\">\n                            <div>\n                                <p class=\"text-neutral-400 text-sm\">\u6210\u4EA4\u65F6\u95F4</p>\n                                <p class=\"text-neutral-700\">").concat(order.time, "</p>\n                            </div>\n                            <div>\n                                <p class=\"text-neutral-400 text-sm\">\u6210\u4EA4\u4EF7\u683C</p>\n                                <p class=\"text-danger font-bold text-lg\">\xA5").concat(order.price.toLocaleString(), "</p>\n                            </div>\n                            <div class=\"col-span-2\">\n                                <p class=\"text-neutral-400 text-sm\">\u8BA2\u5355\u72B6\u6001</p>\n                                <span class=\"badge-pill").concat(statusClass, "\">").concat(statusText, "</span>\n                            </div>\n                        </div>\n                        <!-- \u684C\u9762\u7AEF\u4FE1\u606F -->\n                        <div class=\"hidden md:block md:text-center w-24\">\n                            <p class=\"text-neutral-700\">").concat(order.time, "</p>\n                        </div>\n                        <div class=\"hidden md:block md:text-center w-24\">\n                            <p class=\"text-danger font-bold text-lg\">\xA5").concat(order.price.toLocaleString(), "</p>\n                        </div>\n                        <div class=\"hidden md:block md:text-center w-24\">\n                            <span class=\"badge-pill").concat(statusClass, "\">").concat(statusText, "</span>\n                        </div>\n                        <!-- \u64CD\u4F5C\u6309\u94AE -->\n                        <div class=\"flex justify-end\">").concat(actionButtons, "</div>\n                    </div>\n                </div>");

        // 绑定缩略图点击事件
        var thumbnail = orderItem.querySelector('.order-thumbnail');
        thumbnail.addEventListener('click', function () {
          openOrderDetail(order.id);
        });

        // 绑定操作按钮事件
        var actionBtns = orderItem.querySelectorAll('[data-action]');
        actionBtns.forEach(function (btn) {
          btn.addEventListener('click', function (e) {
            var action = btn.dataset.action;
            handleOrderAction(order.id, action);
            e.stopPropagation();
          });
        });
        return orderItem;
      }
      // 渲染分页
      function renderPagination() {
        // 清空分页
        paginationNumbers.innerHTML = '';

        // 更新总页数
        totalPages = Math.ceil(currentOrders.length / pageSize);

        // 更新上一页/下一页按钮状态
        prevPageBtn.classList.toggle('disabled', currentPage === 1);
        nextPageBtn.classList.toggle('disabled', currentPage === totalPages || totalPages === 0);

        // 生成分页数字
        var startPage = Math.max(1, currentPage - 2);
        var endPage = Math.min(totalPages, startPage + 4);

        // 调整起始页，确保显示5个页码
        if (endPage - startPage < 4 && totalPages > 5) {
          if (startPage === 1) {
            endPage = 5;
          } else if (endPage === totalPages) {
            startPage = Math.max(1, totalPages - 4);
          }
        }

        // 添加首页按钮（如果不是第一页）
        if (startPage > 1) {
          addPageButton(1);
          if (startPage > 2) {
            addEllipsis();
          }
        }

        // 添加中间页码按钮
        for (var i = startPage; i <= endPage; i++) {
          addPageButton(i);
        }

        // 添加末页按钮（如果不是最后一页）
        if (endPage < totalPages) {
          if (endPage < totalPages - 1) {
            addEllipsis();
          }
          addPageButton(totalPages);
        }
      }
      // 添加页码按钮
      function addPageButton(pageNum) {
        var button = document.createElement('button');
        button.className = "pagination-item".concat(currentPage === pageNum ? 'active' : '');
        button.textContent = pageNum;
        button.addEventListener('click', function () {
          return changePage(pageNum);
        });
        paginationNumbers.appendChild(button);
      }
      // 添加省略号
      function addEllipsis() {
        var ellipsis = document.createElement('span');
        ellipsis.className = 'pagination-item text-neutral-400';
        ellipsis.textContent = '...';
        ellipsis.style.pointerEvents = 'none';
        paginationNumbers.appendChild(ellipsis);
      }
      // 改变页码
      function changePage(pageNum) {
        if (pageNum < 1 || pageNum > totalPages || pageNum === currentPage) return;
        currentPage = pageNum;
        renderOrderList();
        renderPagination();
        updateStatistics();

        // 滚动到列表顶部
        orderList.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
      // 更新统计信息
      function updateStatistics() {
        var totalOrders = currentOrders.length;
        var startIndex = totalOrders > 0 ? (currentPage - 1) * pageSize + 1 : 0;
        var endIndex = Math.min(currentPage * pageSize, totalOrders);
        totalOrdersEl.textContent = totalOrders;
        currentRangeEl.textContent = totalOrders > 0 ? "".concat(startIndex, "-").concat(endIndex) : '0-0';
      }
      // 处理订单操作
      function handleOrderAction(orderId, action) {
        var order = currentOrders.find(function (o) {
          return o.id === orderId;
        });
        if (!order) return;
        switch (action) {
          case 'pay':
            alert("\u53BB\u652F\u4ED8\u8BA2\u5355:".concat(order.id));
            break;
          case 'cancel':
            if (confirm("\u786E\u5B9A\u8981\u53D6\u6D88\u8BA2\u5355".concat(order.id, "\u5417\uFF1F"))) {
              order.status = 'canceled';
              renderOrderList();
            }
            break;
          case 'confirm':
            if (confirm("\u786E\u5B9A\u8981\u786E\u8BA4\u6536\u8D27\u8BA2\u5355".concat(order.id, "\u5417\uFF1F"))) {
              order.status = 'completed';
              order.completionTime = new Date().toLocaleString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
              });
              renderOrderList();
            }
            break;
          case 'refund':
            alert("\u7533\u8BF7\u9000\u6B3E\u8BA2\u5355:".concat(order.id));
            break;
          case 'detail':
            openOrderDetail(orderId);
            break;
          case 'repurchase':
            alert("\u518D\u6B21\u8D2D\u4E70\u5546\u54C1:".concat(order.product.title));
            break;
          case 'delete':
            if (confirm("\u786E\u5B9A\u8981\u5220\u9664\u8BA2\u5355\u8BB0\u5F55".concat(order.id, "\u5417\uFF1F"))) {
              currentOrders = currentOrders.filter(function (o) {
                return o.id !== orderId;
              });
              loadOrders(); // 重新加载订单列表
            }
            break;
        }
      }
      // 打开订单详情
      function openOrderDetail(orderId) {
        var order = currentOrders.find(function (o) {
          return o.id === orderId;
        });
        if (!order) return;

        // 获取订单状态样式和文本
        var statusClass = getStatusClass(order.status);
        var statusText = getStatusText(order.status);

        // 更新模态框内容
        document.getElementById('modal-product-title').textContent = order.product.title;
        document.getElementById('modal-product-specs').textContent = order.product.specs;
        document.getElementById('modal-order-number').textContent = order.id;
        document.getElementById('modal-buyer').textContent = order.buyer;
        document.getElementById('modal-seller').textContent = order.seller;
        document.getElementById('modal-order-status').textContent = statusText;
        document.getElementById('modal-order-status').className = "font-medium".concat(statusClass.split("")[1]); // 只取文本颜色类
        document.getElementById('modal-order-amount').textContent = "\xA5".concat(order.price.toLocaleString());
        document.getElementById('modal-logistics-number').textContent = order.logisticsNumber || '暂无';
        document.getElementById('modal-create-time').textContent = order.createTime;
        document.getElementById('modal-payment-time').textContent = order.paymentTime || '未付款';
        document.getElementById('modal-completion-time').textContent = order.completionTime || '未完成';

        // 渲染商品图片
        var imageContainer = document.getElementById('modal-product-images');
        imageContainer.innerHTML = '';
        order.product.images.forEach(function (img) {
          var imgEl = document.createElement('div');
          imgEl.className = 'rounded-lg overflow-hidden border border-neutral-200 aspect-square';
          imgEl.innerHTML = "<img src=\"".concat(img, "\" alt=\"").concat(order.product.title, "\" class=\"w-full h-full object-cover\">");
          imageContainer.appendChild(imgEl);
        });

        // 获取操作按钮
        var actions = getActionButtons(order.status, true);

        // 渲染操作按钮
        var actionsContainer = document.getElementById('modal-actions');
        actionsContainer.innerHTML = '';
        actions.forEach(function (btn) {
          var btnEl = document.createElement('button');
          btnEl.className = "btn".concat(btn.className);
          btnEl.textContent = btn.text;
          btnEl.dataset.action = btn.action;
          btnEl.dataset.orderId = order.id;
          btnEl.addEventListener('click', function () {
            var action = btnEl.dataset.action;
            var orderId = btnEl.dataset.orderId;
            handleOrderAction(orderId, action);
            closeModal();
          });
          actionsContainer.appendChild(btnEl);
        });

        // 显示模态框
        orderDetailModal.classList.add('show');
        document.body.style.overflow = 'hidden'; // 禁止背景滚动
      }
      // 关闭订单详情
      function closeModal() {
        orderDetailModal.classList.remove('show');
        document.body.style.overflow = ''; // 恢复背景滚动
      }
      // 显示空状态
      function showEmptyState() {
        orderList.style.display = 'none';
        paginationContainer.style.display = 'none';
        emptyState.style.display = 'flex';
        loadingState.style.display = 'none';
      }
      // 隐藏空状态
      function hideEmptyState() {
        orderList.style.display = 'block';
        paginationContainer.style.display = 'flex';
        emptyState.style.display = 'none';
      }
      // 显示加载状态
      function showLoading() {
        orderList.style.display = 'none';
        paginationContainer.style.display = 'none';
        emptyState.style.display = 'none';
        loadingState.style.display = 'flex';
      }
      // 隐藏加载状态
      function hideLoading() {
        loadingState.style.display = 'none';
        orderList.style.display = 'block';
        paginationContainer.style.display = 'flex';
      }
      // 暴露全局函数，供其他脚本调用
      window.changeOrderTab = switchTab;
    });
  </script>
  <!-- [/JSMOD] k0l_订单列表渲染 -- 负责订单列表的渲染、标签页切换、分页处理和订单操作等功能 -->
</html>
